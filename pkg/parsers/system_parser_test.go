package parsers

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestParsersUnmarshalGetSystemsResponseJSON(t *testing.T) {
	jsonStr := `
		{"data":[{"id":1,"systemName":"serviceregistry","address":"c1-serviceregistry","port":8443,"authenticationInfo":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqVz/6yls0/czWWR4H6zS1+0IHmJ7Cq162rrnaOvFa3CpHbnLeWoDfJ/lRiKtHIUcDbkj9B3qCF6JW0beC5zffQp3vZ8lqh6L8P7yfoitpym1hx4pUAbdGO85j5ut3yTBkmuleyZ5syEgTeVytc2h1swHjP4N+3ainKZbHCq4RkpNPjYvI1GnaY3fcazFjwPPPlQS1LmPafG6kZD3V8CvLdmJOnxLorCQFpbrSq5Y3xP/ir80bUQriXjO8VIh2zgvrrFW/jljOywV4GVBuQNiU7PHfawneyiVrJAFiS7tt1GUNYaTzUlF9HEfAzvUj7TEg3oaL5xCM89lORjKdKumXwIDAQAB","createdAt":"2025-02-09T09:14:17Z","updatedAt":"2025-02-09T09:14:17Z"},{"id":2,"systemName":"gatekeeper","address":"c1-gatekeeper","port":8449,"authenticationInfo":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAgRxQgF6a9X/kXZeRQuH1AC5eI9y07vOvD816arWNP3Pnr/L8NYO71gTG7uqg0/+r7RAFVBGhPzoG2qShpJgBMJIACUpC3z2bC3tU5ibrxXTT+/E9N51niiVurFYnlUZJEBI61Wm7YrWpqeO5bKhjx2Fn8sGxC+2z234E55fFlmaIaczVwvQVUnFmNj0wHhrTU9WUu4WTSzjCDcOpdK9M9cvvuDP9KewtHMQUdyc/X4t6IG7ZP9EkjjhaTqjwrGbPLLyYA0dqKHbf6I5uqak31Z3DpviJhmIUCCVwxw150YLzJaeyqL6l/PrSvsPL/hi7HGKCVs20SMSSm3OgI5ELjQIDAQAB","createdAt":"2025-02-09T09:14:18Z","updatedAt":"2025-02-09T09:14:18Z"},{"id":3,"systemName":"eventhandler","address":"c1-eventhandler","port":8455,"authenticationInfo":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlPQPmtHtV2v6JhS3yFYi3nQVlKLWd6lwIlNBSh7cTlZeQ7CHICtMyEEd8smnZ4RzA266gIWUMhz/mdnW6u55ReQPm/vh6KHFW0+sJeXEhqaK5wCf+6PiaADQ3rsyhWtTcgv8VihShUUUbljMO85BEmTqiK28EX/Suy3bN2FDzdhn5tcUMWJ1HFQfhTDwUB2I2R3HztSFTn+yaxecAOeTeo6I8zzV+4emgjG+vUAMjPev6929127S5Z+Ng6wwCTP8H0YVh73RMManUP52FeOAupUYgMEfflluoaYO4fSMjvQOaVoDW83mS8Kn9cIuIUdYvYUH4XTx/f6fk/5875Nz2QIDAQAB","createdAt":"2025-02-09T09:14:18Z","updatedAt":"2025-02-09T09:14:18Z"},{"id":4,"systemName":"gateway","address":"c1-gateway","port":8453,"authenticationInfo":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmOsLcxQTTc/VVvryNmPmkj8CiPwNQdcPJY2gX77RDlQyqzOSv0dajVOs6B/VJCKfD0MUx1z7jJpj6pn+FUnNGYOG5YilS9g0o13J3yc68MsZSxrpa0gSgbl33SIqcM0bMrom81Ecz7KWDRQfm5h9oFz9tDmrt2xnb2337Xc+E3ZqMalbkmpTAEaskUrFs/xFszM0QYA8MAKV+hw+YniKHiDs38nuUFmanJgLKYi0UDQ6tWQmLwHyxxb8Nah7ytP/cj1h59mhmBUkUJVjeHnPsEMVjLB2ByynCFV4TfEbeAel2hU3+Kt6Z9bmAkS5i9PvKfc4mCDOfCHio9BjyWCEywIDAQAB","createdAt":"2025-02-09T09:14:19Z","updatedAt":"2025-02-09T09:14:19Z"},{"id":5,"systemName":"orchestrator","address":"c1-orchestrator","port":8441,"authenticationInfo":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlqwVZhgM1jwuVmt7RyjiDU+y0yPIbJgJyZJcuSz5eZp2geP6b7kYrPhJWWU2HeLA1WUpjKBZKGXO/2TPpjCCmVw5jsq0424zN4Q0EEcimSiT8IN3ba5xnqdGtftE47MBi9V7dr7GFrc/pk+eE63HDdR2IC9NXnzdP2GTUG3Uf0Ylpuu19zEUx6B0DAbm5ZFPpyWu6trjd7MvTQYQlpTRUFLeneFL8xwGoThMHWSk9ikTUUhhSY2OS/d5UlaMfHzWhP9nljSfmMHDHiFci2x9kTkzzMlX5XuI1Iq5lb+7U6AG/XkZt6SuzRJAyb3681z01pUx6fGGzS+PQ9uC5SRj0wIDAQAB","createdAt":"2025-02-09T09:14:29Z","updatedAt":"2025-02-09T09:14:29Z"},{"id":6,"systemName":"authorization","address":"c1-authorization","port":8445,"authenticationInfo":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAgzkYEKxOFoXlsie9SHQH5vL2aU73vaeX1OwBm9doyvS7qTD5sBpovvka6GOSvRMOwgLMgIw+JAKZbwSTOuQHCO154OceJh2vsgByauGtL5lSS7e6WhVVzOvNEsYO7Ww5PL5mdD7VbbFzw1VfMprR+E8S6WWUhYZs+TG/8WkYz6Iw0FNsNlRxm4pad/2W+uZcujJu7C58nSVpY0G0WY66cI0mhx9E3bD2I3vxiY83NHw1lsMhgS6U/oSzgoFE96JoGR77yp2t/LDVPXWdY9wLuV/gkK09Xi+O/2KBOkMltsIYWvVanTOCVaKR3YslVQbUTccd9eGUsu8mt18GZTRTWwIDAQAB","createdAt":"2025-02-09T09:14:32Z","updatedAt":"2025-02-09T09:14:32Z"},{"id":7,"systemName":"cardemoprovider","address":"127.0.0.1","port":8888,"authenticationInfo":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAw75K6GkGDIn/r1KH+ChGyP5iuo7BjK95fLWnagWDDNs+fVQoRYCHE97sY7DtaFYe1dbnw7Wwa1Rk3IEHCNGvjMEw1nvcq1EUJWS7C+fe9PS611Egracj/ium0wY+GJBUy7htilsrs1EOhlZxvfilSCm2+ucY3hUnWIs66OvR0LeAeBPjw+ytIPrwy+B1j3kScpzJ3l5fqWHp+B01K4AIYc10U9kTAFskd55aNmRBYcW87Zs/5CqJQzI+mrzl5EftOLejIs4sxhW4pEwwtnmcsRoYHj8Tbhl6Yi1AKoD1eAb1/LVBx+8e1YAtJ06ch9f+R4sXaN4hsMPrU7V/kg6orQIDAQAB","createdAt":"2025-02-09T09:14:56Z","updatedAt":"2025-02-09T09:14:56Z"},{"id":8,"systemName":"cardemoconsumer","address":"localhost","port":8080,"createdAt":"2025-02-09T09:16:11Z","updatedAt":"2025-02-09T09:16:11Z"}],"count":8}
	`
	systems, err := UnmarshalGetSystemsResponseJSON(jsonStr)
	assert.Nil(t, err)

	assert.True(t, len(systems) > 0)

	// TODO Add more assertions
}
